<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title th:text="#{client.list.title}">Liste des Clients</title>
    <div th:insert="~{common/head :: header}"></div>
</head>

<body>
    <div th:insert="~{common/menu :: menu}"></div>
    <div class="container my-4">

        <h1 class="mt-4" th:text="#{client.form.title}">Formulaire Client</h1>

        <form th:action="@{/clients/save}" th:object="${client}" method="post" class="form">

            <div class="mb-3">
                <label class="form-label" th:for="*{id}" th:text="#{client.id}">ID</label>
                <input type="text" class="form-control" th:field="*{id}" />
                <div class="text-danger" th:if="${#fields.hasErrors('id')}" th:errors="*{id}"></div>
            </div>

            <div class="mb-3">
                <label class="form-label" th:for="*{lastname}" th:text="#{client.lastname}">Nom</label>
                <input type="text" class="form-control" th:field="*{lastname}" />
                <div class="text-danger" th:if="${#fields.hasErrors('lastname')}" th:errors="*{lastname}"></div>
            </div>

            <div class="mb-3">
                <label class="form-label" th:for="*{firstname}" th:text="#{client.firstname}">Prénom</label>
                <input type="text" class="form-control" th:field="*{firstname}" />
                <div class="text-danger" th:if="${#fields.hasErrors('firstname')}" th:errors="*{firstname}"></div>
            </div>

            <div class="mb-3">
                <label class="form-label" th:for="*{email}" th:text="#{client.email}">Email</label>
                <input type="email" class="form-control" th:field="*{email}" />
                <div class="text-danger" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"></div>
            </div>

            <div class="mb-3">
                <label class="form-label" th:for="*{phoneNumber}" th:text="#{client.phoneNumber}">Numéro de
                    Téléphone</label>
                <input type="tel" class="form-control" th:field="*{phoneNumber}"
                    pattern="^\+?[0-9]{1,4}?[-. ]?(\([0-9]{1,3}\)|[0-9]{1,4})[-. ]?[0-9]{1,4}[-. ]?[0-9]{1,9}$"
                    placeholder="Entrez un numéro de téléphone valide" required />
                <div class="text-danger" th:if="${#fields.hasErrors('phoneNumber')}" th:errors="*{phoneNumber}"></div>
            </div>


            <div class="mb-3">
                <label class="form-label" th:text="#{client.gender}">Genre</label> <br />
                <!-- Radios pour le genre : Masculin / Féminin / Autre -->
                <input type="radio" th:field="*{gender}" value="Masculin" id="genderMasculin" />
                <label for="genderMasculin">Masculin</label>

                <input type="radio" th:field="*{gender}" value="Féminin" id="genderFeminin" />
                <label for="genderFeminin">Féminin</label>

                <input type="radio" th:field="*{gender}" value="Autre" id="genderAutre" />
                <label for="genderAutre">Autre</label>

                <div class="text-danger" th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}"></div>
            </div>

            <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" th:field="*{isVIP}" id="isVIP" />
                <label class="form-check-label" for="isVIP" th:text="#{client.isVIP}">Client VIP ?</label>
            </div>

            <button type="submit" class="btn btn-success" th:text="#{table.save}">Enregistrer</button>
            <a th:href="@{/clients}" class="btn btn-secondary" th:text="#{table.cancel}">Annuler</a>
        </form>
    </div>
</body>

</html>